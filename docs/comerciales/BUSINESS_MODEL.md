# Modelo de Negocio y Arquitectura - Sistema Integral de Monitoreo y Cuidado Personalizable

## 1. Visión y Propósito

El sistema es una plataforma integral y personalizable para el monitoreo y cuidado de personas bajo cuidado, adaptable a instituciones, familias y usuarios individuales. Permite registrar y gestionar información médica, protocolos de emergencia, síntomas de alarma configurables, gestión de medicación, reportes diarios de higiene, alimentación, conducta y estado de ánimo, así como protocolos de sujeción y seguimiento de condiciones como deterioro cognitivo, incontinencia e inestabilidad. El sistema prioriza la personalización, la interoperabilidad con sensores IoT y la trazabilidad de la información para mejorar la calidad del cuidado y la toma de decisiones.

## 2. Usuarios Principales
- Personas bajo cuidado (mayores, personas con discapacidad, condiciones crónicas, etc.)
- Familiares y representantes
- Cuidadores profesionales y personal de instituciones
- Instituciones de cuidado (geriátricos, centros de día, clínicas, etc.)

## 3. Servicios Ofrecidos (actualizados)

### Personalización y Diagnóstico
- Registro de diagnóstico inicial, características y necesidades de cada persona.
- Configuración de síntomas de alarma y niveles de riesgo por usuario.

### Protocolos de Emergencia y Prevención
- Protocolos de emergencia personalizables (contactos, acciones a seguir).
- Registro y anticipación de caídas mediante sensores y alertas automáticas.
- Evaluación y monitoreo de oxigenación, saturación, pulsación y otros signos vitales.

### Gestión de Medicación y Alertas
- Recordatorios y alertas para toma de medicación e inyecciones.
- Confirmación y registro de la toma efectiva de la medicación.

### Protocolos de Sujeción y Prevención de Incidentes
- Registro de protocolos de sujeción y sensores asociados (sillas de ruedas, etc.).
- Alertas y prevención de caídas o incidentes.

### Reportes y Observaciones Diarias
- Reportes diarios de higiene, alimentación, evacuación, conducta y estado de ánimo.
- Observaciones por turno y registro de incidentes.
- Trazabilidad y comunicación entre cuidadores y profesionales.

### Seguimiento de Condiciones Específicas
- Registro y seguimiento de deterioro cognitivo, incontinencia, inestabilidad y otras condiciones relevantes.

### Interoperabilidad y Trazabilidad
- Integración con sensores IoT y dispositivos médicos.
- Trazabilidad completa de la información y reportes para instituciones y familias.

## 4. Modelo de Negocio

### Usuarios Principales
- **Personas con necesidades de cuidado**
  - Personas mayores (65+ años)
  - Personas con discapacidad física o intelectual
  - Personas con condiciones médicas crónicas
  - Personas en recuperación post-quirúrgica
  - Personas con movilidad reducida temporal o permanente
  - Niños con necesidades especiales
  - Personas con trastornos del espectro autista
  - Personas con demencia o Alzheimer
- **Familiares y cuidadores** (hijos, nietos, personal de cuidado, tutores)
- **Centros de cuidado y atención**
  - Geriátricos y residencias
  - Centros de día
  - Centros de cuidados especiales
  - Escuelas especiales
  - Centros de rehabilitación
  - Hogares de tránsito
  - Centros de atención temprana
- **Proveedores de salud** (ambulancias, médicos, enfermeros, terapistas)
- **Servicios de emergencia** locales y regionales

### Servicios Ofrecidos

#### Básicos
- Monitoreo remoto 24/7 (hogar, residencia, centro de cuidado, etc.)
- Alertas automáticas en tiempo real
- Botón/mando de emergencia con llamada directa
- Panel web para familiares y cuidadores
- Reportes de actividad y salud con adjuntos
- Gestión de medicamentos y recordatorios
- Sistema de debug y testing completo

#### Avanzados
- Videovigilancia bajo demanda
- Detección automática de caídas y comportamientos anómalos
- Monitoreo de signos vitales (presión arterial, temperatura, frecuencia cardíaca)
- Detección de gases tóxicos y humo
- Integración con servicios de emergencia
- App móvil para familiares y cuidadores
- Sistema de geolocalización para personas con tendencia a deambular
- Monitoreo de patrones de sueño y actividad
- Detección de convulsiones o episodios médicos
- Protocolos de emergencia configurables
- Sistema de facturación y suscripciones

#### Especializados por Tipo de Usuario
- **Para personas con autismo**: Detección de crisis, monitoreo de rutinas
- **Para personas con demencia**: Control de deambulación, recordatorios personalizados
- **Para niños especiales**: Monitoreo de seguridad, comunicación con padres
- **Para centros de día**: Gestión de grupos, reportes institucionales
- **Para escuelas especiales**: Integración con protocolos educativos

### Modelo de Ingresos

#### Venta de Hardware
- Dispositivos IoT (sensores, cámaras, mandos, wearables)
- Instalación y configuración
- Mantenimiento técnico
- Actualizaciones de firmware

#### Servicios de Suscripción por Usuario
- **Básico**: Monitoreo básico + alertas (ARS 3,500/mes por persona)
- **Premium**: + Videovigilancia + Reportes médicos (ARS 6,000/mes por persona)
- **Profesional**: + Integración emergencias + 24/7 + IA (ARS 9,000/mes por persona)

#### Servicios de Suscripción para Centros
- **Centro Pequeño** (5-20 personas): ARS 15,000/mes
- **Centro Mediano** (21-50 personas): ARS 35,000/mes
- **Centro Grande** (51+ personas): ARS 60,000/mes
- **Escuela Especial**: ARS 25,000/mes (incluye módulos educativos)

#### Servicios Adicionales
- Reportes médicos personalizados con adjuntos
- Integración con seguros o servicios sociales
- Servicios de emergencia premium
- Consultoría y capacitación
- Desarrollo de protocolos específicos por tipo de centro
- Integración con sistemas de gestión institucional
- Sistema de debug y testing para desarrolladores

### Mercado Objetivo - Costa Atlántica y Provincia de Buenos Aires

#### Demografía y Mercado Potencial

##### Costa Atlántica
- **Mar del Plata**: ~650,000 habitantes
  - Población mayor de 65 años: ~97,500 (15%)
  - Personas con discapacidad: ~32,500 (5%)
  - Centros geriátricos: ~80 establecimientos
  - Centros de día: ~45 establecimientos
  - Escuelas especiales: ~25 establecimientos

- **Pinamar**: ~45,000 habitantes
  - Población mayor de 65 años: ~6,750 (15%)
  - Centros de cuidado: ~15 establecimientos

- **Villa Gesell**: ~35,000 habitantes
  - Población mayor de 65 años: ~5,250 (15%)
  - Centros de cuidado: ~12 establecimientos

- **San Clemente del Tuyú**: ~15,000 habitantes
  - Población mayor de 65 años: ~2,250 (15%)
  - Centros de cuidado: ~8 establecimientos

##### Provincia de Buenos Aires
- **Población total**: ~17,500,000 habitantes
- **Población mayor de 65 años**: ~2,625,000 (15%)
- **Personas con discapacidad**: ~875,000 (5%)
- **Centros geriátricos**: ~1,200 establecimientos
- **Centros de día**: ~800 establecimientos
- **Escuelas especiales**: ~400 establecimientos
- **Centros de rehabilitación**: ~300 establecimientos

#### Segmentos de Mercado

##### Hogares Particulares
- **Familias con personas mayores**: ~500,000 hogares
- **Familias con personas con discapacidad**: ~200,000 hogares
- **Familias con niños especiales**: ~50,000 hogares

##### Centros de Cuidado
- **Geriátricos privados**: ~800 establecimientos
- **Centros de día**: ~600 establecimientos
- **Escuelas especiales**: ~300 establecimientos
- **Centros de rehabilitación**: ~200 establecimientos
- **Hogares de tránsito**: ~100 establecimientos

##### Instituciones Públicas
- **Hospitales públicos**: ~150 establecimientos
- **Centros de salud**: ~800 establecimientos
- **Escuelas públicas especiales**: ~200 establecimientos

#### Competencia
- Sistemas de alarma tradicionales
- Servicios de teleasistencia básicos
- Cámaras de seguridad domésticas
- Sistemas de monitoreo médico básicos
- Apps de cuidado familiar simples

#### Ventajas Competitivas
- Tecnología IoT moderna y escalable
- Integración múltiple de sensores y dispositivos
- Interfaz accesible para diferentes tipos de usuarios
- Soporte local en toda la región
- Personalización por tipo de necesidad
- Integración con sistemas institucionales
- Cumplimiento de normativas de accesibilidad
- Sistema de debug y testing completo
- Reportes con adjuntos avanzados
- Protocolos de emergencia configurables

## 5. Arquitectura Técnica

### Dispositivos IoT

#### Sensores Especializados
- **Movimiento**: PIR, radar, ultrasonido, infrarrojo
- **Presión arterial**: Bluetooth/WiFi, con memoria de lecturas
- **Gas**: CO, CO2, humo, gas natural
- **Temperatura y humedad**: Ambiental y corporal
- **Presencia**: RFID, Bluetooth, NFC
- **Actividad física**: Acelerómetro, giroscopio
- **Frecuencia cardíaca**: Óptico, ECG
- **Nivel de oxígeno**: SpO2
- **Glucosa**: Monitoreo continuo (futuro)
- **Convulsiones**: Sensores de movimiento especializados
- **Deambulación**: Sensores de puertas y geolocalización

#### Cámaras Especializadas
- IP con visión nocturna y infrarroja
- Detección de movimiento y comportamiento
- Compresión H.264/H.265/H.266
- RTSP/HTTP/MQTT/WebRTC
- Análisis de video con IA
- Privacidad por defecto (mascarado automático)

#### Comunicación Avanzada
- **Módulo SIM**: 4G/LTE/5G para llamadas/SMS/datos
- **WiFi**: Conexión local de alta velocidad
- **Bluetooth**: Sensores cercanos y wearables
- **Zigbee/Z-Wave**: Red de sensores de bajo consumo
- **LoRaWAN**: Comunicación de largo alcance
- **NFC**: Identificación y configuración rápida

#### Mandos y Interfaces Físicas
- **Botón de pánico**: Grande, accesible, con vibración
- **Interfaz táctil**: Pantalla simple con iconos grandes
- **Control por voz**: Comandos de voz simples
- **Interfaz braille**: Para usuarios con discapacidad visual
- **Mando remoto**: Para control de TV y dispositivos
- **Pulsera inteligente**: Con botón de emergencia y geolocalización

### Backend (FastAPI + PostgreSQL)

#### Microservicios Especializados
```
├── api-gateway/              # Entrada principal con rate limiting
├── user-service/             # Gestión de usuarios y roles
├── device-service/           # Gestión de dispositivos IoT
├── event-service/            # Procesamiento de eventos en tiempo real
├── alert-service/            # Gestión de alertas y notificaciones
├── video-service/            # Streaming y procesamiento de video
├── debug-service/            # Sistema de debug y testing
├── billing-service/          # Gestión de facturación
├── location-service/         # Geolocalización y geofencing
└── report-service/           # Reportes con adjuntos
```

#### Nuevas Funcionalidades Implementadas

##### Sistema de Debug y Testing
- **Panel de debug completo**: Interfaz web en `/debug`
- **Generación automática de datos**: Creación de datos de prueba realistas
- **Simulación de eventos**: Eventos de caída, emergencias médicas, deambulación
- **Testing de geolocalización**: Ubicaciones simuladas con trayectorias realistas
- **Geofences de debug**: Zonas de seguridad para testing
- **Limpieza automática**: Eliminación de datos de prueba
- **Resúmenes detallados**: Estadísticas de datos generados

##### Reportes con Adjuntos
- **Soporte para múltiples formatos**: PDF, imágenes, documentos
- **Almacenamiento seguro**: Archivos con UUIDs únicos
- **Metadatos completos**: Información de archivo, tamaño, tipo MIME
- **Acceso controlado**: Permisos por usuario y tipo de reporte
- **Categorización**: Tipos de reporte (médico, incidente, general)
- **Autocuidado**: Reportes personales sin asociación a persona bajo cuidado

##### Protocolos de Emergencia
- **Activación automática**: Basada en condiciones configurables
- **Escalación inteligente**: Pasos secuenciales con retrasos
- **Tipos de crisis**: Médica, caída, deambulación, abuso, etc.
- **Niveles de severidad**: Baja, media, alta, crítica
- **Evaluación de condiciones**: Operadores lógicos complejos
- **Contactos de emergencia**: Lista configurable por protocolo

##### Sistema de Facturación
- **Ciclos flexibles**: Mensual, trimestral, anual
- **Métodos de pago**: Tarjeta, transferencia, efectivo, cripto
- **Gestión de vencimientos**: Alertas automáticas
- **Reembolsos**: Procesamiento completo
- **Números únicos**: Generación automática de facturas
- **Estados de pago**: Pendiente, pagado, fallido, reembolsado

##### Geolocalización y Geofencing
- **Tracking en tiempo real**: Múltiples fuentes (GPS, WiFi, manual)
- **Zonas de seguridad**: Geofences circulares y poligonales
- **Alertas automáticas**: Entrada/salida de zonas
- **Historial de movimientos**: Trayectorias y patrones
- **Configuración horaria**: Geofences activos por horarios
- **Múltiples usuarios**: Geofences compartidos por familia

### Frontend (SvelteKit)

#### Páginas Principales Expandidas
- **Dashboard Personalizado**: Según tipo de usuario y necesidades
- **Gestión de Personas**: CRUD de personas bajo cuidado
- **Dispositivos**: Gestión y configuración avanzada
- **Video**: Streaming en vivo, grabaciones, análisis
- **Alertas**: Historial y configuración por tipo
- **Reportes**: Salud, actividad, emergencias, institucionales
- **Configuración**: Usuarios, emergencias, notificaciones
- **Centros**: Gestión para administradores de centros
- **Analytics**: Datos y estadísticas avanzadas
- **Accesibilidad**: Configuración de accesibilidad
- **Debug**: Panel completo de testing y debug

#### Características de Accesibilidad Avanzadas
- Interfaz adaptable según tipo de discapacidad
- Botones grandes y contrastantes
- Soporte para lectores de pantalla
- Modo oscuro/claro automático
- Texto escalable (hasta 200%)
- Navegación por teclado completa
- Comandos de voz
- Interfaz táctil optimizada
- Modo de alto contraste
- Reducción de movimiento

### Integraciones Externas

#### Servicios de Emergencia Regionales
- **107** (Emergencias locales)
- **911** (Policía)
- **100** (Bomberos)
- **101** (Policía Federal)
- **106** (Emergencias médicas)
- Servicios privados de emergencia

#### Proveedores de Salud
- Hospitales públicos y privados
- Clínicas especializadas
- Ambulancias privadas
- Médicos de cabecera
- Especialistas por área
- Centros de rehabilitación

#### Centros de Cuidado
- APIs de gestión institucional
- Sistemas de turnos médicos
- Registros médicos electrónicos
- Sistemas de facturación
- Gestión de personal

#### Notificaciones Multi-canal
- **Push**: App móvil personalizada
- **SMS**: Twilio, proveedores locales
- **Email**: SMTP con plantillas
- **WhatsApp**: API Business
- **Telegram**: Bot personalizado
- **Llamadas**: IVR personalizado

## 6. Flujo de Servicio Expandido

### Evento Detectado
1. Sensor detecta anomalía o evento
2. Dispositivo envía evento por MQTT/HTTP con metadatos
3. Backend procesa y clasifica evento según tipo de persona
4. Sistema evalúa reglas de alerta personalizadas
5. Si es crítico, activa protocolo de emergencia específico

### Notificación Personalizada
1. Alerta se envía según preferencias del usuario
2. Notificación adaptada al tipo de necesidad
3. Escalación automática si no hay respuesta
4. Integración con servicios de emergencia locales
5. Registro completo en base de datos

### Respuesta Especializada
1. Familiar/cuidador puede ver video en vivo
2. Botón de emergencia manual disponible
3. Llamada directa a servicios específicos
4. Seguimiento hasta resolución
5. Reporte post-evento con adjuntos

### Sistema de Debug y Testing
1. Panel de debug accesible en `/debug`
2. Generación automática de datos de prueba
3. Simulación de diferentes escenarios
4. Testing de funcionalidades sin dispositivos IoT
5. Limpieza automática de datos de prueba

## 7. Roadmap de Desarrollo Expandido

### Fase 1 (MVP Ampliado) - 4 meses ✅ COMPLETADO
- [x] Backend expandido con nuevos modelos
- [x] Frontend con gestión de personas (no solo personas mayores)
- [x] Integración básica de múltiples tipos de sensores
- [x] Sistema de alertas personalizado
- [x] Pruebas con diferentes tipos de usuarios
- [x] Integración con centros de cuidado básicos
- [x] Sistema de debug y testing completo
- [x] Reportes con adjuntos
- [x] Protocolos de emergencia
- [x] Sistema de facturación
- [x] Geolocalización y geofencing

### Fase 2 (Servicios Avanzados) - 8 meses 🔄 EN DESARROLLO
- [ ] Integración de cámaras con IA
- [ ] App móvil especializada
- [ ] Sistema de reportes institucionales
- [ ] Integración con servicios de emergencia regionales
- [ ] Geolocalización avanzada con geofences
- [ ] Pruebas con centros de día y escuelas especiales

### Fase 3 (Producción Regional) - 12 meses
- [ ] Mando físico accesible
- [ ] Detección automática especializada
- [ ] Integración con proveedores de salud regionales
- [ ] Sistema de facturación para centros
- [ ] Lanzamiento comercial en Costa Atlántica
- [ ] Expansión a Provincia de Buenos Aires

### Fase 4 (Escalado Nacional) - 18 meses
- [ ] IA para detección de patrones específicos
- [ ] Integración con seguros nacionales
- [ ] Expansión a otras provincias
- [ ] API para terceros y partners
- [ ] Certificaciones de accesibilidad
- [ ] Integración con sistemas públicos

## 8. Consideraciones Legales y de Privacidad

### RGPD/Ley de Protección de Datos
- Consentimiento explícito del usuario o tutor legal
- Derecho al olvido implementado
- Portabilidad de datos médicos
- Notificación de brechas en 72 horas
- Oficial de protección de datos

### Leyes Locales y Regionales
- Ley de Discapacidad
- Ley de Protección al Adulto Mayor
- Regulaciones de salud provinciales
- Normativas de emergencias locales
- Protección al consumidor
- Ley de accesibilidad

### Seguridad Avanzada
- Encriptación end-to-end para video
- Autenticación multifactor obligatoria
- Auditoría de accesos completa
- Backup y recuperación automática
- Cumplimiento HIPAA (estándar médico)

## 9. Métricas de Éxito Expandidas

### Técnicas
- Tiempo de respuesta < 15 segundos
- Disponibilidad > 99.95%
- Falsos positivos < 3%
- Usabilidad > 95%
- Accesibilidad > 98%

### Negocio
- Retención de clientes > 90%
- NPS > 60
- Tiempo de resolución < 3 minutos
- Satisfacción > 4.7/5
- Expansión a 5 ciudades en 18 meses

### Sociales
- Reducción de tiempo de respuesta emergencias en 50%
- Mejora en calidad de vida de usuarios en 40%
- Reducción de costos de cuidado en 30%
- Independencia de usuarios en 60%
- Integración de 100+ centros de cuidado

## Reportes con adjuntos (imágenes, PDFs, etc.)

El sistema permite a cuidadores y personas en autocuidado crear reportes asociados a personas bajo cuidado o a sí mismos. Cada reporte puede incluir archivos adjuntos (imágenes, PDFs, etc.), lo que aporta:

- **Trazabilidad y respaldo:** Documentación de incidentes, evolución médica, visitas, etc.
- **Comunicación efectiva:** Facilita compartir información relevante con familiares, médicos y la institución.
- **Historial médico:** Almacenamiento de análisis, recetas, certificados médicos.
- **Evidencia visual:** Fotos de lesiones, cambios en el estado, etc.
- **Reportes institucionales:** Documentación para centros de cuidado y autoridades.

### Características de los Reportes
- **Múltiples formatos:** PDF, JPG, PNG, DOC, etc.
- **Metadatos completos:** Tamaño, tipo MIME, fecha de subida
- **Almacenamiento seguro:** Archivos con UUIDs únicos
- **Acceso controlado:** Permisos por usuario y tipo de reporte
- **Categorización:** Tipos de reporte configurables
- **Búsqueda avanzada:** Filtros por fecha, tipo, persona, etc.

## Sistema de Debug y Testing

### Funcionalidades del Panel de Debug
- **Generación automática de datos:** Crea personas, dispositivos, eventos y alertas de prueba
- **Simulación de escenarios:** Eventos de caída, emergencias médicas, deambulación
- **Testing de geolocalización:** Ubicaciones simuladas con trayectorias realistas
- **Geofences de debug:** Zonas de seguridad para testing
- **Limpieza automática:** Eliminación completa de datos de prueba
- **Resúmenes detallados:** Estadísticas de datos generados

### Beneficios para el Desarrollo
- **Testing sin dispositivos IoT:** Permite probar funcionalidades sin hardware
- **Datos realistas:** Genera datos que simulan el comportamiento real del sistema
- **Desarrollo rápido:** Acelera el ciclo de desarrollo y testing
- **Debugging eficiente:** Herramientas para identificar y resolver problemas
- **Demostraciones:** Facilita mostrar el sistema a clientes potenciales

## Protocolos de Emergencia

### Características de los Protocolos
- **Activación automática:** Basada en condiciones configurables
- **Escalación inteligente:** Pasos secuenciales con retrasos
- **Tipos de crisis:** Médica, caída, deambulación, abuso, etc.
- **Niveles de severidad:** Baja, media, alta, crítica
- **Contactos configurables:** Lista de emergencia por protocolo
- **Pasos personalizables:** Secuencia de acciones específicas

### Beneficios para la Seguridad
- **Respuesta rápida:** Activación automática de protocolos
- **Escalación apropiada:** Contacto progresivo de servicios de emergencia
- **Documentación completa:** Registro de todas las acciones tomadas
- **Personalización:** Protocolos específicos por tipo de institución
- **Cumplimiento:** Adherencia a normativas de seguridad

---

*Documento en desarrollo - Versión 2.0*
*Última actualización: [Fecha]*
*Próxima revisión: [Fecha]* 